# rejmerge.8.pod - documentation for rejmerge(8) manual page
# See COPYING and COPYRIGHT files for corresponding information.

=pod

=encoding UTF-8

=head1 NAME

rejmerge - merge files that were rejected during package upgrades

=head1 SYNOPSIS

B<rejmerge> [I<OPTION>]...

=head1 DESCRIPTION

B<rejmerge> is a package management utility that helps you merge files
that were rejected during package upgrades.

For each rejected file found in F</var/lib/pkg/rejected/>, B<rejmerge>
will display difference between installed version and the rejected
version.

The user can the choose to keep the installed version, upgrade to the
rejected or perform a merge of the two.

=head1 OPTIONS

Mandatory arguments to long options are mandatory for short options
too.

=over

=item B<-c>, B<--config>=I<FILE>

Specify an alternate configuration file.

Default: F</etc/rejmerge.conf>.

=item B<-n>, B<--dry-run>

Print the differences between an installed version and rejected
one, but do not execute any actions.

=item B<-r>, B<--root>=I<DIR>

Specify an alternate root directory.  This should be used if you want
to merge rejected files on a temporary mounted partition, which is
"owned" by another system.

Default: C</>.

=item B<-v>, B<--version>

Print version and exit.

=item B<-h>, B<--help>

Print help and exit.

=back

=head1 ENVIRONMENT

If the following environment variable exists it will be utilized by
B<rejmerge> (unless F</etc/rejmerge.conf> overrides them):

=over 8

=item B<EDITOR>

F</bin/vi> if unset.

=item B<PAGER>

F</bin/more> if unset.

=back

=head1 FILES

=over 8

=item F</etc/rejmerge.conf>

Configuration file.

=item F</var/lib/pkg/rejected/>

Directory where rejected files are stored.

=back

=head1 SEE ALSO

L<rejmerge.conf(5)>

=head1 AUTHORS

The original implementation of B<rejmerge> was done by Per Lid√©n
<L<per@fukt.bth.se>>, the author of CRUX.  B<rejmerge> was maintained
for years by CRUX team (L<http://crux.nu>), and later extensively
re-worked for L<Zeppe-Lin|http://zeppel.ink> by Alexandr Savca
<L<alexandr.savca89@gmail.com>>.

=head1 CAVEATS

While only root can merge system files, the B<-n>/B<--dry-run> option
allows running B<rejmerge> as a regular user to view the differences
between installed and rejected files without making any changes.

Note that you may encounter the situation when the rejected file has
very strict permissions (e.g., 0400) that prohibit regular users from
reading its content.  For example:

  $ PAGER=cat rejmerge -n
  /usr/bin/diff: /var/lib/pkg/rejected/etc/tor/torrc: Permission denied
  =======> /etc/tor/torrc
  =======> [K]eep [U]pgrade [M]erge [D]iff [S]kip?
  $

Just run B<rejmerge> as root if you still want to view the diff.

=cut

# vim: cc=72 tw=70
# End of file.

# See COPYING and COPYRIGHT files for corresponding information.

=pod

=encoding UTF-8

=head1 NAME

rejmerge - merge files that were rejected during package upgrades

=head1 SYNOPSIS

B<rejmerge> [I<OPTION>]

=head1 DESCRIPTION

B<rejmerge> is a package management utility that helps you merge files
that were rejected during package upgrades.

For each rejected file found in F</var/lib/pkg/rejected/>, B<rejmerge>
will display difference between installed version and the rejected
version.

The user can the choose to keep the installed version, upgrade to the
rejected or perform a merge of the two.

=head1 OPTIONS

Mandatory arguments to long options are mandatory for short options
too.

=over 8

=item B<-r>, B<--root>=I<PATH>

Specify the pathname of an alternative root directory.  This should be
used if you want to merge rejected files on a temporary mounted
partition, which is "owned" by another system.

Default: none.

=item B<-c>, B<--config>=I<FILE>

Specify the pathname of an alternative configuration file.

Default: F</etc/rejmerge.conf>.

=item B<-n>, B<--dry-run>

Print the differences between an installed version and rejected
one, but do not execute any actions.

=item B<-v>, B<--version>

Print version and exit.

=item B<-h>, B<--help>

Print help and exit.

=back

=head1 ENVIRONMENT

If the following environment variable exists it will be utilized by
B<rejmerge>:

=over 8

=item B<EDITOR>

F</bin/vi> if unset.

=item B<PAGER>

F</bin/more> if unset.

=back

=head1 FILES

=over 8

=item F</etc/rejmerge.conf>

Configuration file.

=item F</var/lib/pkg/rejected/>

Directory where rejected files are stored.

=back

=head1 CAVEATS

While only root can merge system files, B<-n>/B<--dry-run> option
allows to run B<rejmerge> as a regular user to just view the
differences between an installed and rejected files.  Please note that
running C<rejmerge -n> as a regular user, you may encounter the fact
that the rejected file has strict permissions (e.g. 0400) that
prohibit the users to read its content:

 $ PAGER=cat rejmerge -n
 /usr/bin/diff: /var/lib/pkg/rejected/etc/tor/torrc: Permission denied
 =======> /etc/tor/torrc
 =======> [K]eep [U]pgrade [M]erge [D]iff [S]kip?
 $

Run B<rejmerge> as root if you want to view the diffs for these files.
These files are mostly not that many, and more often than not, running
as a normal user will suffice.

=head1 SEE ALSO

L<rejmerge.conf(5)>

=cut

# vim:sw=2:ts=2:sts=2:et:cc=72:tw=70
# End of file.
